#MIN_CONFIG(3.2)

AM_INIT_AUTOMAKE(uim-kdehelper, 0.1.0)
AC_C_BIGENDIAN
AC_CHECK_KDEMAXPATHLEN

AC_CHECK_LIB(uim, uim_init, HAVE_UIM_LIB=yes, HAVE_UIM_LIB=no)
if test "x$HAVE_UIM_LIB" = "xyes"; then
  AC_CHECK_HEADER(uim/uim.h, HAVE_UIM_LIB=yes, HAVE_UIM_LIB=no)
  if test "x$HAVE_UIM_LIB" = "xyes"; then
    AC_DEFINE(HAVE_UIM_LIB, 1,
       [Define to 1 if you have uim library and header files])
    LIB_UIM="-luim"
  else
    AC_MSG_ERROR([You are missing uim headers.])
  fi
else
  AC_MSG_ERROR([You are missing uim. Please install uim first.])
fi
AC_SUBST(LIB_UIM)

AC_ARG_ENABLE(kasumi,
  AC_HELP_STRING([--enable-kasumi],
                 [enable kasumi, the dictionary management tool for Anthy (http://kasumi.sourceforge.jp/)]),
  [
    case $enable_kasumi in
      no)
        use_kasumi="no"
      ;;
      yes|*)
        use_kasumi="yes"
      ;;
    esac
  ],
  [ use_kasumi="yes" ])

AM_CONDITIONAL(KASUMI, test x$use_kasumi = xyes)
